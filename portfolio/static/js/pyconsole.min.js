var output=$(".console-output"),input=$("input[name='console-input']"),DEFAULT_TIME=30,timer_count=DEFAULT_TIME,key;input.focus();var timer=function(){0==timer_count?(clearInterval(interval),timer_count=DEFAULT_TIME,output.html("Enter word:\n>>> ")):($(".remaining").html(timer_count),timer_count-=1)},bashWrite=function(t,n){for(var o=t.split("\n"),e=!1,i=0;i<o.length;i++){var u=o[i],p=String.fromCharCode(27);u.slice(0,4)==p+"[2J"?(n.html(""),e=!0):u.slice(0,5)==p+"[END"?input.prop("disabled",!0):u.slice(0,6)==p+"[CTDN"?do_countdown():u[0]==p||((!i||i>0&&!e)&&n.append("\n"),n.append(u),e=!1)}},postToConsole=function(t){output.append(t),$.post("http://adambeagle.com:8005",key+"\n"+t,function(t){var n=$(".console");bashWrite(t,output),n.scrollTop(n[0].scrollHeight)})},start=function(){$.get("http://adambeagle.com:8005",function(t){key=t.split("\n")[0],bashWrite(t.slice(key.length+1,t.length),output)})},do_countdown=function(){output.append("\nYou have 30 seconds to determine your word.\n"),setTimeout(function(){output.append('<span class="remaining"></span> seconds remaining...')},1e3),interval=setInterval(timer,1e3)};input.keypress(function(t){if(13==t.which){var n=input.val();n&&(postToConsole(n),input.val(""))}}),$(".console").click(function(){input.focus()});
